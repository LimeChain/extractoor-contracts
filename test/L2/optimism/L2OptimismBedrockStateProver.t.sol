// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import "forge-std/Test.sol";
import "./../../../src/L2/optimism/L2OptimismBedrockStateProver.sol";
import "./../../mocks/MockLightClient.sol";
import {RLPReader} from "Solidity-RLP/RLPReader.sol";

contract L2OptimismBedrockStateProverTest is Test {
    using RLPReader for bytes;
    using RLPReader for RLPReader.RLPItem;

    L2OptimismBedrockStateProver public prover;
    MockLightClient public lightClient;

    function setUp() public {
        lightClient = new MockLightClient(address(this));
        prover = new L2OptimismBedrockStateProver(
            address(lightClient),
            0xE6Dfba0953616Bacab0c9A8ecb3a9BBa77FC15c0
        );
    }

    function testProve() public {
        uint64 l1BlockNumber = 0x81d27c;
        bytes32 l1StateRoot = 0x93a4bba104dd231938d1a73c809bf8615e954902ee2ba4e7ac5c05928c01b115;

        lightClient.setStateRoot(l1BlockNumber, l1StateRoot);

        uint256 l2OutputIndex = 0x0000000000000000000000000000000000000000000000000000000000003396;
        Types.OutputRootProof memory outputProofData = Types.OutputRootProof({
            stateRoot: 0x8b31d390ac00765481bf0d4f548f3eba0c2e4389250e14a081fe280169223416,
            withdrawalStorageRoot: 0xc0e7b6417a06c823080f11f01f82418fcf67f0fda464dacc99f11eb23324fb5a,
            latestBlockhash: 0x1a2e1e180c4e451d781a744198c96a91afacd7a177bfed02c927c7f0c5a49a09
        });

        bytes
            memory optimismStateProofsBlob = hex"f913acf90c93f90211a0ed694d8d649555e010b06dbda02e1f9007d5d7486f310922f526f87c9807ac00a0d157ad38fe4e7619eea40d67472abc843d620be6eab8a93e846f0ceb5a933eeea051f9077e3d6913a6fa30e9daea388054ce25fb5ba513ef0f4f134f0f53924f1ca0eb97d7a9603d52b6e9b91fe6287f45c4005eeca0ba4f0e59a31f6587a158055ea0a78d6e990463e40f0244b5abb7e33c08b045a85c7ebb5163ac63e5d0f8a5a936a0f1f3baa394f9a8003e3f7283318ab67f2805fe69b572d7320d96f7099abc2fbfa064aafe8b8e2ee18bbba45abe7b8d71248b51a90d7c5d020317695efa27c10db0a0911d01d1e7c19b68c37bcf6959d5ae67a57786220e000725dc6036cfd2cdfa0da066fdd48676716c98883d045568252ed784e0b370fe54b09a3010e4fd24413172a0e54c131f3a757d7b4fe579832b64f73623a67dd698f045029808de9017fb16dda0c47ec232bd504efa3d0f565b186cace7addae5fb3cabca26f54df6f559692f5da0a4825c31d15c194c25989bfabbd1945f6cb739c00a9453c858a403386177d076a0f7b38c386818dab7cabb00ebad9e835443bb0b5d10bf078de01dea92e56f3a1ca0e4f25b8ed4afd7bff3aac993407318925c8d6c7ca57889eb96aad7b9fc57a83da04bc575427bfe7a723674916e92da31f61963cf2a1b4b1ff045c517e706e8f2d7a0e8298c261322f89dba118404175474e58ae9f234c0b7ecbf0f0cbf827108b98d80f90211a08f39ce55571905b9aded216536c23a8e6bb87c1d54df2afca6eac702447ef19ca0545f85a8f94960ed2161da1a70ff4e2a01131deafa5e6cb1bc9bc5c5f3fa733ba01a83d0c3e0d6f9e707d99ba5f9ece4342790499c2b54e52c17fae3965b731ee2a0f847b2cb25b6199e2c83f3a87de2fa406525d7822fb71c5e2ce568b1033b204ba0f38dfbfe5ce134b70ce69a5845cbacabcb7382677908d3473552bf539b72d7d0a023790b45c7890b3e21a8db238a22b995e202c2ebc7f977a826cabbb5fc20343ca0aae63ac1413660c9565e4781fbf31edb0ebddcc56e9efd6edacaec8eece37938a0a0c8a862559c1450afa21b5e34ef5b48c1a40bbc4067d4ba870ab67e765f703da0b150ed2844de89aa26f34f30b286b32034c7f2343edb23a0270e363ecc04e176a0d2a08ddb0eb966a6f7cc334e76ec95ba12bc2629c967acc60621351159860a5aa0dc485bc7a1c30d3898cdbb0d53ca3b57cc34ecb113ba9a6e6b5c61a3491ca773a06d600029cb6ff4d41bab6496fc81700e9834076871fe5c001968224978a99dc0a048c47c4c2cdbeb5be46fb410cfbfde871f7b826890b196c454515a0ee21bbc78a04dd279075c5fecad27ec76bcf115f7a869b425e2c9affd08d6e368453bab71caa03023cd0a17189dc5c27938d9b54cdd57af4abdd7aacd6f09c17853fe68ddf632a04b9f034babb468929a1acb87b26d6d44819737501eadaf125f1c84ce3b3f7cdd80f90211a0687a2751c7abf4bde049764c9dc13d4205c92fa29ba126affe517affcd6d5b86a062949b6a018daa352a7d39521162fcf63efd092fe5622eac29166da4a77d63f4a0fbf9097177247479ebd6d8b80cd8be4e942da46b9b673b3fa9bba331685936e7a0f5460a40289a9c5111d55d913ebdbe67ae2ec7e9375cdac57d7ac3def9780640a0f65d3a16466354fddbe585c1981ef805fb2e8e3a800fd7afeb40ad8661441f92a09ca321945fa3e9326373ae6389059f5e71d5a4eccadbe365e37d7dc4174e3eaaa0b6168c5e93e2b6c70a59776d38cb9084759e00c82aa25c654db3ebc7c89b18fca08c81f9f81d23631853315c5060adc57e212d33b3a65ceb92ef7f71cecaff6735a01ab01ca596a478e23a785f9f15d0de89e3230a5af0c421c064384e8fee517488a0dac94c110a6e118e80a0f4c7f95e9abf54d47cc5ba75f9b08c558200b8f0a08da0979ec890ba05409d89d03e665004ac6608a9643b49a28c72fea1ac6e9caca0d6a016e959b3a17ff81ea0e88a57f15cc210f7953213b48f14b7ea1a8a43170bff2fa04225debf53565b002774604d7559e0884edb0824dc82484bd5cf93318ece94e4a0b674a01fa98416144fa2ddc08f12d7b2fa6fbbd62f3db0154347fe07d8bdb75da04b37f7b724f1dde16ca9857f8b01156dfca4fe2f172b71447fef81e550c73ce1a0004b1dc1fef6a0ce6e770604c90d007cb30a95717cfea9b44a94baa7ffc3c70380f90211a02e70a8929716d78d6b3b43f784901d800e0f305d87b375ee623873196e683be3a00a76db6962214014c34e0f3d4faf1b6aac13bcef6952f8753feb83da901a7294a0f176d99408e24f37fccd57bab2ffb4ddad5ca48bef735e7bc4894fcb4529d3e4a01865ddbe31ef24a7a27e8ba68ec98082f0112c9654abef860255655f70dc528ba0b2141cc7915775b5d2c3f1c1ac2e589d29705ce0a2a97aa0012cbc6d0997e93fa03bd1428b07c1ce5ca6b6e5227fa798d7ff666fccb5bb22c94f87bfd15bb81e06a0d82b77354bd363bec785dc93745bdee72a7994000d37fa6e85bda30ff786cae4a01f0a5819234efdba63a35a60191d5c2c90ee1b5e8fe900ee733203565c020d46a087acad3155c0728a1ae0d2626d2d10d8d57bd559dfcb20bb34bb3b4944d601d9a0072767ef5448ba0b8068fca223e1bebddb4077636bdc396f5d9ddc25fe5d117ca0a1b49b2b08e4a1e5a078873fcd1ddaa213b5d38cdc2546e945fcb4cb69cff913a09bbc1ace1ed6e454d2120645893cc2bc5a26caa1d44023785e80b4397206b8aba0b2a3336077f39ee704c06e932505d51944ca057b65ff12dcdffc9450e8fced46a0ba654bc74de6db5def226d7a31becfda97ff13806881608f7660d1d975f09d7fa020e827850a527a43d0abbb0cc8f98b1706b561c0a4c528a386405531ac6cfd39a0f961f53995b54b61a6f61191a71657b5e70ca853a0d2f548d5c0a86dcfc9301380f90211a024aeddb5ea834caf7c5b0a7f95b0c34e5e4dca39198662f075bcbe6bd8913504a0722e77e0e5192511a8b9f5ec57b8a01c0a30646f72cbdd5b3155e3fa91937a93a0329e9f756290dd6eddb7b4c9a623b9d764fbd0f8426e061c6dd31f5c158ff2c2a092ae7cfbebf0b4c2c58e25927a0de8fc4d9363789d75abf06c91a68dcce83787a097dac9795372b9eecdfd2aff092654c1877a0cf163ba62516d2b8811824e6cfea07d7fef6fae2b1db8946ab12b3e294cd1233f3739681d784d093b096d79d5fc24a06e71559561fb265bb289300c259526d95ab3f521e6cd445248a48e8cae9e82c1a0aa3a0ccd7573a95e713048611cba6f5a2cde8c44dd4600cb8f4c9d071552d915a025a60c1cf33d0b2e386c8ad982135f25c3cca86460bc68ff786c2d9669d539fea0121034a425cbe20ea175c23c829ad8fa8b4be84544129bf021a64bca2c0a43dea0704ee8c7f80906550e6d354ad76552727dfb14bee7030508e3ede0e150d95ae5a04bd166715c788ba693635a739067b2bc014e9b2edb1cb2fbadd6936507635040a0f270ee64ce873ee48e2be15aceb3f1bd71394e2c685f7252aacf090cadfcfd09a0721642b3678b61a42b6ccb4f63c04087d1cb997e3c4b71aaf3b269382c0a7cada03674d08036deca1ab18c30c30c40d3b610d0c0468cca91c5bad4ffbd9843f815a0685bf7d2b7c0e405355a5f35297736e955501a9e71dcc779550d660118d15ba480f90151a0f23ee920b3539e22109ba4adc578839ee72be22d830953874d948dda959e32be8080a09c61fc8d25e7abf4ea1e605071352c460ea20580d412da62b73fb357d4bd2870a05e70e3faa7e298e447b9bc163969f98d9896fbd82e9e5a50f9579b8cf0708296a0b752d5a5811807a622a01d87081f4a6817fb7daa2ba97bdb6974ba706759532ca061bcf629693fc0f1df9919434f7ed1dc3b073ab201d3ae42d9a2f62b7d3de3d780a0447a1b87e78f2a02d2c042fae3e9c344587186cd3370ea89fa8668c188383e5d8080a07fe14166970101d34cbf476fa4f18b3bac46d4a764775539e12a2156c83590efa0feba2ed701770913c6bfdd619436157ff95b03e5c8dc7c9f115f5cc0fb55ca70a002331aeb4823d537dd9c76165ac4627cf487b8c6f002b46fcfbb552f9affd97b80a01129082da2030c42d4982fec7dd446fff6b885d9f86fe395fe2711649d3c27c180f8718080a07e1b01dbc4dd963a24521e6ca1fab940cbce7d3d554d7cc829649fd31c34033e80a0f7fd70d8321d619c4fc798080e08b9937da24ab0095a7e7afd5874106eaf213f80a08f00f4e9ba8cd5f3996b984d2d21ca48a9306e3a742d2b5413bfa158d12c7ebd80808080808080808080f8669d342b28574dad1179c95f6118bb5117b4b78c6afba7e20082d091b8a702b846f8440180a06285c3ed30c2d22a5bc5647ef20092c75ba3a34070621b1a86d441ab754728baa01f958654ab06a152993e7a0ae7b6dbb0d4b19265cc9337b8789fe1353bd9dc35f90713f90211a0e5436d9fb9899436d03d379b4961a058757564bccdbd9a1c26e908475fe8cbc5a0ba691bf6c5723e31f2050aa62851fb485529e84b9ba7be4e11bacbd30ea4bc27a0dd296c219d20861f9a223648f6a9a2ab8644b34309d403bfbca740d4700d03dba0d67cbad46d2ce6734cbf67533d2f9a0764907e20d96700ef50f9c63373963cdba0f1b7c4ed63b46d182ed49a7c36119fcb9c60b063ee2aa6f52867af51923467e7a02abf5c10232f8aef3a972061ce87a0aa33a6b062ef950c87202988fa2c0fbb72a06a3fce5697466a31ed0c5165c8be50ca75915f15d0bb41c31395657b737dd646a0ca8d60d2da91b16d5728c4a5f94b98f4b4ae10f3813ee0ff8eed9998dbc2ea4ba0c7ee99b1d5f37045b42db49cec6eef9af2ffb64d10c5659e5881f6052130333da0f33d6df5e71d0976c1267390da19845db9e46d0025d0dc79c6536d665d7b3ab7a00602d69d95eb221fe8e35c9a7ed2e50a2629699c80ad9e8d6c08f68734ce76c0a07467aea2d3708b002645d54870f65b752b6e600b6b5db6be5071430ebc7754cba0ab168043525ebd9a34483128bb43f8ff9276f30c85dfb1e1c8e2b5e4a308c70aa060537300f28aaa56a416670da5f4c8a6b6ebafcb917f02d4b6683e95c27c8fbea02e82d66d3810e431779e41f04d87aec36a91116b0207342a5f9249aa293338cda0522a1a49ac0dacea030cd396fe5d2e7a73c4bc3e8d6f92c779f0d43f33d0a18680f90211a0bf84b9cdd0adf2c4e0a74922d6a6adbbde54629c93a92f7ba5654cd59238f7b0a05f03778dc7f5897bdbea80c9da222d4a978d0a8bcfc5516f4c5a1751ac1673b4a00dc3b9e547709403e1bf9a60879b6270116d588576f3f1634ea32db6bb3e6ed8a0c9197fb4603e8864ce2b1a16241ea4dbe98869d8b26d4315be3175791b92cc3aa004d44276cecd0632c869ccbafada0b1c147604e8193d1728f97f9b927c6a57d4a0ff4e08a5fb2ae0e66bcbf82b012669cc7e9008978e229931650d00366df3d1c3a09debec69810c12dbc601df99b5065127b263e4e4ea2412779613da2ce5837001a0ad152e670acaf0700c3e2a6b378193da4a48de0d6f1c0b9194ed733aa5b83121a01a93bace4541770beeef29cc4dac023ac1d5870cc9ca400bba901c6b9c75fa4aa06ead89cfd1ecf28aa8fa9a63acb89596804a6ba1125c4e1fbdc8811588b5718aa0f2cd72b682d630079be4e07c6e34e3a855e8ec80937d57ab7fb594e13fdbb5cda0727e74ed56113ee6418bad711b6f9f625cf347d118bf6be15e17c18f10b60dd9a03026297235e66d3ac321459b5cc8e54e729971932719c06939eb9318797daccfa098392eae2d94265718d5bd66804a3ae52c98c4f2a560f207fc1a9d09abd4033da063858c1ed61b9321d06aec8fa577e3d31719cdbafc7cab58f9fd146709b85cd0a017fc0fc002eb433d88cfa40a2ab3658dfc0ad766d4a1fec22fc317c615dfbeb980f90211a0db247436c502a51630ba61804d7c614d2a69be5c8958a030d3d385c7654c30baa06d55b4de48c88aeeca70b8f3c8b2901f66860a5f70d3e94c870b09370a2fb2dea0d159646ef7040f17eeaea6a10e74176800dc7321d6b3bd0715dc0160d3fae45aa0d94381bec0a770ebe32eaf0faa0716d1b76791642a02c513b490cbe15b98a9e5a0fd6a3e22bcad420e84289384086937320d07679de0e9a91d15bfc1327befb8b1a0a4e7ce12db220ccecac302720f616564dd28f1628f375daae33a8790af6d7947a009e46d14f104db46d13988d83bd18f0dd0b5c6e72087d88c8616dd42c27a13e8a0f3008422ea544259d01a775de698b82ae26a5f9a18b94ec35b2af972ea5d48c5a096c6b3977573548776cd90b5fa9cccfc9d5605c08ecda093b2b9f3d3afe4df56a024fdfea6343180ebafafc9de6d87f020303c3a3f3f255617905cc5182ff1f2bda01831c39cf57284e830e8864ac32020b1f4d29e491daa4802f5eb5d6dce420beaa02038dd1eb9edc2f9d345fdfe02a0b58aa4eed1e31898fab9ac4b2509b5876bcea0f4f02b5d6695ceff153c12e6b91e89de385ea238d0079d704de70d5949930906a0e19cfdea8e52af5b33778d9ac72e3bffa49b008d6934efc7d5193877f16ee559a0d8c44637b7a1f81e337598fcc59f7f2175b43cc51584e9be48aad7a88b3bc485a0b2fd0437844ed923c8403cbca402480a2fe17fa8ebc2721cc807a8e163ca95db80f8918080a0eaf1d595b280a69183510da2594c1e35f0b1afff97fee086e713503298258f8480a03be6cd5328e6f7df6a2500116985406ea119e104d1c9b7a82b7f31f70f6d0f74a0804d663defd3e58e1790e28366f88e2178bea305ce108fe35d595643700736f1808080a0635b965c06588478fe8f962adeb73a603879778d57a51206b343a6f79ad3f79c80808080808080f8429f20bc9e837a7566420132d24352be44585d2800fbeb42ad6efea6fa3cebabb0a1a013a8da9b32ddb724fd5a164e7203fddf293f5e608f748a9f866a50a11e1b0eb8";

        address target = 0x29Fc256D083273230f426370d009Db7E26bE6d7A;
        bytes32 slot = 0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563;
        uint256 value = 0x2faeaaba6efe915aa877ee9ae1f0faf50e717883f2d3a5789036a4bddba696b4;

        bytes
            memory proofsBlob = hex"f909e9f9092cf90211a03729f88bd132c63c22f5913fe5750a58e68d934a8b39f20b1536aa46f389ec30a013e8ff06e51c305c9ac76200f9174e11d7746245a7aef30afabd95c23f72f484a034197a5c470c34d75594ebf6cdf009f016fb41f4587798bb255699a301d6bea8a0b253f727857ab6830b65926d2974e3c4bfc49a802a5dfee36536b9043be2224ba0aaa5c1f8c19e8e11af7100e959b2ce165101c02531283b67afe4f000e82bd0c7a0374829318fe278800cf78fa2b29417b20cb21dfbc7209f91fd3db923b181f812a03f456e3a01711ea45acdfb5b3ac00740d658f456e48b3d31c865518b0d327ab1a0fd1894908778929989c94449e8cfd6a2c201f67ea7b8675d358c3a4bb42dd014a051f14de6ab2156d439ce3486e23b0612cd27ecb76f549070d4df315262ed4c83a05c03c394062e4c50986b48dce67540e00234469a925f7d0013e846bb1715fc65a078862b769fd49c5b8ac9295fec40fca3bdf8826d5b4bffcb8f456368c65b4a18a0835225993ef6a0a6a92def7d73390bd27e59a5a87e411425dea3a70a20905d3ca07ec2b65832e6ed4ebe17576a9689c911b4d88d3fa63548c248c898c73c9e12bda0a3cfcd4b5eec97b2d94813e1f46202edba0c36c8157a91056dce656850225f18a0148965e8e9762d58ff551bf3bfbf693248a6aa4b3a82e8ff498ec87a6ad32eb0a007b7697c23956e7dfce5edf341ac03e7067a06a1db0592eb8c4f6327d4bc043780f90211a0b23b2412e45395779ac82815750c0abe885892e6e255a1cb7164469c54b0038ba0a222787522d6bea547d01603a59cbd6d9b266286d1ad110abfc20c826887281ea0dfd965d6860f8cfef230696dac71069e4f70d96fbdf2ffff6417c2fd507b5cd4a01b13ec0df24914967606e49b28702d7fbfa17b078f6c91e16e10791a6f2219e6a06b9916556000ba9d2a68259b39453985272e2f814cb7591cf620dbb24fee73daa0333c6946b9a1cd5147593d2ee2eb77111468de0ecba101566833099f9964c11ba0a40a2c3d371ea8e91d05a72249fc6bf50ad4dfd90cad1a7ae1b3ec6abe1116a3a00631f851a116bae4120ea99378a812a1b6e50c1b233faa220d0300f073ef94f3a003dc47f1c090e690b522af12aee55b8f3bf5b8b44ed7efec95ab63b3b9f537a3a06f6f771ff5c91e7c74fe1447d7d4f10304cb10bd5cd43c6efd09498be3e95877a0d5fd50f648b5cdb9108c154a5918c4c6256a7f65dd306466d911b85781102617a01d43cafacfe4d50437660c02dfb348f719ee31140f3fcafdbd9289d2fc7b8961a022b9097df56761a2880a347d67b3b1b155132586a9a89f3776d674e633f3b3b4a07acaf49ee090563c49b48d076651ae67ecdae41e56d8eeb5b7c06b06ae982e9aa0bfe9fd5583498d0783cd98de13286c0056cfae980e8953c700d83e20d7898937a03d0bbaca44ea354612b47fe5970ba460a5bb80bebdd92871be73cd5c5d87511480f90211a02cb79047701ebf3487d54aa4c5d1e8e60878dbf2364be68d4d2a9ac1cbdd2447a030737f0665c6512c18dc03daab0483dbd0c4ff23262188736e38e58ccfecccaaa09b323efe5b661028824675cc4ef0e25b0b75607a5548efb9aa6845ea7bb0ba49a01346cfac2d4fe0454d323bba3d179d22a318cc4f3d7494ed56d10cd2efd1adaca00d46a333c5aab6b641db51274ade2bdbf00c5384c127594882ee0db3a765a1dba05baa41379c6bff23f39aa2dbcf82532f92aaf413eb5268f787ca26e94808cdf6a03c94efa18e08d97183e8cda6a97f8e45d8238243da15b9325a7468e0ead33e4fa0c66e1c8788717474adb53770b4ea45c3d841e1b871c97903bea0b99187baae73a02a933f0f8b55c849be3fec3b4c785d142f89585666b240cfaf97e7318928431aa0cb50dce97ecc226acc63aff031586b71e473330e6e0aeb6af65947526a474602a0d93eb5c052a6a257d1e6538d65f8d4a3a0e0bdab4e482edec88f9924f1cabb83a0ddb4ccb9206d36bee8963c15c765ce4b52125400f4c7cb94c5d63d0c764b110ba034071a608e3ee77f525edd2bff930a6d44bd12067ba77d2219de37c3829e8a09a0d36c785d1e3d314746a70ee1d3ebf9ec96dcebe8b19fc3a68b041523d47e8285a0cce0d467fad68bd779d31ad894837fdb5b198bdd30c9c8f90eed6a68354f3317a0e9904c8b0fa11ae88dbdfe9d0a26b7e5f8294d37e0adfd92637bad4fca20e91980f90211a02ebd9ac1c8525918e71253f29df8747c6328e0073151bd41b223fd98f0fa3b19a06d3533be52e4ceac28bb19a3d6f0d59eb8fac90db83f6445ab726484013cb44ea0dafa72df018dc5a069b9b81193a571cb56ce4e3f55f1519d42c5548e48b949cca0c5f8fd80d05eae135ce487e7316dcf64eb72845c070137a64c0422800b389c9fa0e86e36d1a9180cfc449e1b4f0896bf603c8b9d68af4d5656cb7da6a5e81b6569a0544e507bdcc17dd5902e1ad16e4159e121ae6e67b512daa9fd21ee69b8ccc16ca04edb026223d03f055598af728cf4c718186e042414558da051d1879edd6b82aea0d33c7c5a5ed9fdfca1ff6787b0c140ecd2b759a41d64a142a6bf970248454c2fa037049bb5e5b211c10e4c7a18986f8593a45b6ec04bf02b374b648ce9e5ee6b73a07fad55fdf9edadd664247cb95ef67448cbec275d979c1768608b03f05c12d30da02425ee304420fd1de73a7b18119605ab01a7b094e057dd8da1e9858c3a84e9a5a0b23dada28d7d89f5343f8d14b61971e98d70bcf11368388d01b234d3e79530efa06b899b92fd56fd92edf2ed3227234f289882c9bcf8d0863e0b58811bd7205d3da037dbf987e960fd16eb9df7b3bd832d9b5df8aa1ac08396b3df911993bc9e9955a09af74628497973dafad9f64127d754285cd64cc79c5970bf0d8c8ebe416b1535a0fce3e719ced1345bf69968b7eef403d575209b9c0053ab9a8cfc25ff0c43dc7680f8718080808080808080a091a7fbe52f70722691256672c55aa400a5ffb15f9cb200ba1ada4348b228db988080a0eea07e0d8f6119b8b375b592de337db38d960e38011bc75e49ae71435c31d474a0e63a3ee28c1a57ea1d6284be0164ad24d7ffbf2b319bb538fd2c5f048fc419a680808080f8679e3cd957e373137bc677a305471c4e79a1aced09e811ce84b632bc3e336d82b846f8440180a0fbfeb5b8a6f14604621e558ef78b09c33082f9223500a75909ed6b368daed244a05c26486e2e0c4fedbb479e8981fe8514566755ecc5edc8a5e6f86862892a2d11f8b8f8718080a04fc5f13ab2f9ba0c2da88b0151ab0e7cf4d85d08cca45ccd923c6ab76323eb288080a0d7b78662400ac780b3fd987775c71ef0e76bc35032e702a7c71a3140eac3556980808080808080a0238cb47d9c85c37f284612c260eaaba387ec0ce5ca0ac2886fbf67a3e4733097808080f843a0310e4e770828ddbf7f7b00ab00a9f6adaf81c0dc9cc85f1f8249c256942d61d9a1a02faeaaba6efe915aa877ee9ae1f0faf50e717883f2d3a5789036a4bddba696b4";

        Types.MPTInclusionProof memory inclusionProof = Types
            .MPTInclusionProof({
                target: target,
                slotPosition: slot,
                proofsBlob: proofsBlob
            });

        Types.OutputRootMPTProof memory outputProof = Types.OutputRootMPTProof({
            outputRootProof: outputProofData,
            optimismStateProofsBlob: optimismStateProofsBlob
        });

        bool inState = prover.proveInOptimismState(
            l1BlockNumber,
            l2OutputIndex,
            outputProof,
            inclusionProof,
            value
        );

        assertEq(inState, true);
    }
}
